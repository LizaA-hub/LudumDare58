[gd_scene load_steps=16 format=3 uid="uid://fu2lsweqg8ym"]

[ext_resource type="Script" uid="uid://do4p553sc2wiw" path="res://player.gd" id="2_1bvp3"]
[ext_resource type="Texture2D" uid="uid://dt87ji848s1gn" path="res://icon.svg" id="3_lquwl"]
[ext_resource type="Script" uid="uid://djqij5e724bc6" path="res://datas.gd" id="4_lquwl"]
[ext_resource type="Script" uid="uid://dymkk31uu8j1u" path="res://game_over_screen.gd" id="5_7mycd"]
[ext_resource type="Script" uid="uid://du4w2g8o56rq0" path="res://spawner.gd" id="6_7mycd"]
[ext_resource type="Script" uid="uid://d5pyl0f0pp7o" path="res://items/item_data.gd" id="7_5vw27"]
[ext_resource type="Resource" uid="uid://orl18gjlisan" path="res://items/common_item.tres" id="8_kek77"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_h2yge"]
size = Vector2(4000, 100)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1bvp3"]
size = Vector2(100, 2200)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kek77"]
size = Vector2(128, 128)

[sub_resource type="LabelSettings" id="LabelSettings_272bh"]
font_size = 30

[sub_resource type="RectangleShape2D" id="RectangleShape2D_272bh"]
size = Vector2(1500, 200)

[sub_resource type="Gradient" id="Gradient_5vw27"]
offsets = PackedFloat32Array(1)
colors = PackedColorArray(1, 1, 1, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_kek77"]
gradient = SubResource("Gradient_5vw27")
width = 1500
height = 200

[sub_resource type="NavigationPolygon" id="NavigationPolygon_5vw27"]
vertices = PackedVector2Array(1903.7188, 1065.9766, -1916.6484, 1061.0078, -1912.3281, 934.96094, -124.75, 927.96094, 105.10156, 934.9922, -1909.9219, -1057.0078, 1903.7031, -1061.9766, 1900.2734, -940.96875, 111.65625, -935.96875, -1909.0625, -934.96875, -111, -929.96875, -111, -700.96875, 119.328125, -706, 1897.2891, -706, 1903.6875, -489.96875, 106.85156, -485.97656, -114.24219, -510.97656, -1905.2578, 707.96875, -1909.7188, 544, -107.75781, 544, -130.24219, 702.96875, 1900.2188, 553.03906, 1903.7734, 708, 102.89844, 708, 119.17969, 562.0469, -113.24219, 313.97656, -1910.1484, 317.96875, -1912.8438, 142.97656, -108.8125, 140.99219, 95.64844, 157.03125, -1913.0938, -514.96875, -1914.8984, -706.96094, -113.1875, -92.03906, -1913, -84.03906, -1913, -291.96875, -108.75, -287.97656, 110.140625, -259.97656, 1904, 152.02344, 1904, 323.0078, 114.8125, 326.02344, 1902, -262.97656, 1902, -70.97656, 103.34375, -67.97656, 1900.2578, 936.97656)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4), PackedInt32Array(5, 6, 7, 8, 9), PackedInt32Array(10, 9, 8), PackedInt32Array(11, 12, 13, 14, 15, 16), PackedInt32Array(17, 18, 19, 20), PackedInt32Array(21, 22, 23, 24), PackedInt32Array(25, 26, 27, 28, 29), PackedInt32Array(30, 31, 11, 16), PackedInt32Array(32, 33, 34, 35, 36), PackedInt32Array(29, 37, 38, 39, 25), PackedInt32Array(36, 40, 41, 42, 32), PackedInt32Array(10, 8, 12, 11), PackedInt32Array(35, 16, 15, 36), PackedInt32Array(28, 32, 42, 29), PackedInt32Array(19, 25, 39, 24, 23), PackedInt32Array(3, 20, 19, 23, 4), PackedInt32Array(0, 4, 43)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-1919, -925, -121, -920, -121, -711, -1925, -717, -1923, -505, -124, -501, -119, -298, -1923, -302, -1923, -74, -123, -82, -119, 131, -1923, 133, -1920, 328, -123, 324, -118, 534, -1920, 534, -1915, 718, -140, 713, -135, 918, -1922, 925, -1927, 1071, 1914, 1076, 1910, 927, 115, 925, 113, 718, 1914, 718, 1910, 543, 129, 552, 125, 336, 1914, 333, 1914, 142, 106, 147, 113, -58, 1912, -61, 1912, -273, 120, -270, 117, -476, 1914, -480, 1907, -716, 129, -716, 122, -926, 1910, -931, 1914, -1072, -1920, -1067)])

[node name="Node2D" type="Node2D"]
metadata/_edit_vertical_guides_ = [-1638.0]
metadata/_edit_horizontal_guides_ = [801.0]

[node name="map" type="Node2D" parent="."]

[node name="StaticBody2D" type="StaticBody2D" parent="map"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="map/StaticBody2D"]
position = Vector2(27, -1126)
shape = SubResource("RectangleShape2D_h2yge")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="map/StaticBody2D"]
position = Vector2(-3, 1127)
shape = SubResource("RectangleShape2D_h2yge")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="map/StaticBody2D"]
position = Vector2(-1974, -2)
shape = SubResource("RectangleShape2D_1bvp3")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="map/StaticBody2D"]
position = Vector2(1965, 8)
shape = SubResource("RectangleShape2D_1bvp3")

[node name="CharacterBody2D" type="CharacterBody2D" parent="." groups=["player"]]
unique_name_in_owner = true
script = ExtResource("2_1bvp3")
speed = 600.0

[node name="Camera2D" type="Camera2D" parent="CharacterBody2D"]
zoom = Vector2(0.3, 0.3)

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D"]
shape = SubResource("RectangleShape2D_kek77")

[node name="Icon" type="Sprite2D" parent="CharacterBody2D"]
texture = ExtResource("3_lquwl")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="datas" type="Control" parent="CanvasLayer" node_paths=PackedStringArray("points_label", "timer_label", "global_timer_label")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("4_lquwl")
points_label = NodePath("points")
timer_label = NodePath("timer")
global_timer_label = NodePath("global_timer")

[node name="points" type="Label" parent="CanvasLayer/datas"]
layout_mode = 1
offset_right = 80.0
offset_bottom = 23.0
text = "Points : 00"

[node name="timer" type="Label" parent="CanvasLayer/datas"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -47.5
offset_right = 47.5
offset_bottom = 23.0
grow_horizontal = 2
text = "Timer: 00:00"

[node name="global_timer" type="Label" parent="CanvasLayer/datas"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -153.0
offset_bottom = 23.0
grow_horizontal = 0
text = "Global Timer : 00:00"

[node name="game_over_screen" type="Control" parent="CanvasLayer"]
unique_name_in_owner = true
process_mode = 3
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("5_7mycd")

[node name="Panel" type="Panel" parent="CanvasLayer/game_over_screen"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 129.0
offset_top = 97.0
offset_right = -136.0
offset_bottom = -105.0
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="CanvasLayer/game_over_screen/Panel"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -82.5
offset_top = 29.0
offset_right = 80.5
offset_bottom = 71.0
grow_horizontal = 2
text = "Game Over"
label_settings = SubResource("LabelSettings_272bh")

[node name="Button" type="Button" parent="CanvasLayer/game_over_screen/Panel"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -34.0
offset_top = -15.5
offset_right = 34.0
offset_bottom = 15.5
grow_horizontal = 2
grow_vertical = 2
text = "Replay"

[node name="spawner" type="Node2D" parent="."]
script = ExtResource("6_7mycd")
items = Array[ExtResource("7_5vw27")]([ExtResource("8_kek77")])

[node name="enviro" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="shelve" type="StaticBody2D" parent="enviro"]
position = Vector2(-959, -818)

[node name="CollisionShape2D" type="CollisionShape2D" parent="enviro/shelve"]
shape = SubResource("RectangleShape2D_272bh")

[node name="Sprite2D" type="Sprite2D" parent="enviro/shelve"]
texture = SubResource("GradientTexture2D_kek77")

[node name="shelve2" type="StaticBody2D" parent="enviro"]
position = Vector2(-959, -399)

[node name="CollisionShape2D" type="CollisionShape2D" parent="enviro/shelve2"]
shape = SubResource("RectangleShape2D_272bh")

[node name="Sprite2D" type="Sprite2D" parent="enviro/shelve2"]
texture = SubResource("GradientTexture2D_kek77")

[node name="shelve3" type="StaticBody2D" parent="enviro"]
position = Vector2(-960, 29)

[node name="CollisionShape2D" type="CollisionShape2D" parent="enviro/shelve3"]
shape = SubResource("RectangleShape2D_272bh")

[node name="Sprite2D" type="Sprite2D" parent="enviro/shelve3"]
texture = SubResource("GradientTexture2D_kek77")

[node name="shelve4" type="StaticBody2D" parent="enviro"]
position = Vector2(-960, 429)

[node name="CollisionShape2D" type="CollisionShape2D" parent="enviro/shelve4"]
shape = SubResource("RectangleShape2D_272bh")

[node name="Sprite2D" type="Sprite2D" parent="enviro/shelve4"]
texture = SubResource("GradientTexture2D_kek77")

[node name="shelve5" type="StaticBody2D" parent="enviro"]
position = Vector2(-971, 820)

[node name="CollisionShape2D" type="CollisionShape2D" parent="enviro/shelve5"]
shape = SubResource("RectangleShape2D_272bh")

[node name="Sprite2D" type="Sprite2D" parent="enviro/shelve5"]
texture = SubResource("GradientTexture2D_kek77")

[node name="shelve6" type="StaticBody2D" parent="enviro"]
position = Vector2(946, 820)

[node name="CollisionShape2D" type="CollisionShape2D" parent="enviro/shelve6"]
shape = SubResource("RectangleShape2D_272bh")

[node name="Sprite2D" type="Sprite2D" parent="enviro/shelve6"]
texture = SubResource("GradientTexture2D_kek77")

[node name="shelve7" type="StaticBody2D" parent="enviro"]
position = Vector2(957, 444)

[node name="CollisionShape2D" type="CollisionShape2D" parent="enviro/shelve7"]
shape = SubResource("RectangleShape2D_272bh")

[node name="Sprite2D" type="Sprite2D" parent="enviro/shelve7"]
texture = SubResource("GradientTexture2D_kek77")

[node name="shelve8" type="StaticBody2D" parent="enviro"]
position = Vector2(946, 47)

[node name="CollisionShape2D" type="CollisionShape2D" parent="enviro/shelve8"]
shape = SubResource("RectangleShape2D_272bh")

[node name="Sprite2D" type="Sprite2D" parent="enviro/shelve8"]
texture = SubResource("GradientTexture2D_kek77")

[node name="shelve9" type="StaticBody2D" parent="enviro"]
position = Vector2(946, -375)

[node name="CollisionShape2D" type="CollisionShape2D" parent="enviro/shelve9"]
shape = SubResource("RectangleShape2D_272bh")

[node name="Sprite2D" type="Sprite2D" parent="enviro/shelve9"]
texture = SubResource("GradientTexture2D_kek77")

[node name="shelve10" type="StaticBody2D" parent="enviro"]
position = Vector2(957, -820)

[node name="CollisionShape2D" type="CollisionShape2D" parent="enviro/shelve10"]
shape = SubResource("RectangleShape2D_272bh")

[node name="Sprite2D" type="Sprite2D" parent="enviro/shelve10"]
texture = SubResource("GradientTexture2D_kek77")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_5vw27")

[connection signal="pressed" from="CanvasLayer/game_over_screen/Panel/Button" to="CanvasLayer/game_over_screen" method="_on_button_pressed"]
